---
layout: post
title:  计算机网络应用基础-2.网络安全机制
date:   2020-06-18
categories: computerNetwork security Mechanism
permalink : computerNetwrok/networkSecurityMechanism.html
description: 计算机网络应用基础-网络安全机制
show : false
---

### 2.1 安全机制说明

网络安全的主要技术：

1. 加密：包括硬件和软件的加密，提供数据的保密性和完整性。
2. 认证：试图验证一个用户、系统或进程的身份，如通过数字证书的方式（临时证书与长期证书）。在这种验证发生时，依据系统管理员制定的参数而使真正的用户或系统能够获得相应的权限。认证用来标识用户和确定用户的真实性，可以通过加密来实现。
3. 访问控制：确保想要的个体访问系统，一个网络内部的机制确保每个用户和系统只能访问安全策略所允许的访问。发生在认证过程之后，经系统认证后，访问控制来控制你能访问什么。所有操作系统都支持访问控制，必须在服务器上限制哪些用户可以访问服务或守护进程。
4. 审计：审计是整个安全计划中的一个特征。多数现在的系统可以以日志文件的形式记录下所有的活动。这些日志可以帮助对你实施的安全进行有效地诊断。通过这些活动的日志，总是可以判断是否有一个不允许的活动发生。审计包括被动的记录一些活动，在被动审计中，计算机简单的记录一些活动，并不做什么处理。因此，被动审计不是一个实时的检测，必须查看这些日志然后对其中的包含的内容采取措施，而主动审计原则是需要前期事先做些响应设置，主动响应非法入侵（包括结束一个登陆会话、拒绝一些主机的访问、跟踪非法活动的源位置等）。

计算机安全措施包括：

- 非技术措施：如制定有关法律法规，加强各方面的管理等，管理措施包括以下内容：
  1. 操作管理：保证操作安全保密性和合法性方面的管理规定。
  2. 组织管理：指对内部职工进行保密性和必要性等教育，坚持职责分工原则。
  3. 经济管理：指安全保密与经济利益结合的管理规定。
  4. 安全管理目标与责任：指计算机系统运行时，设置专门的安全监督过程，如审计日志和监控。
- 技术性措施：硬件安全保密、通信网络安全保密、软件安全保密、数据安全保密

**动态链接库DLL文件：**

共享函数库的可执行文件，动态链接库提供了一种方法，使进程可以调用不属于其可执行代码的函数，函数的可执行代码位于一个DLL文件中，该DLL包含一个或多个已被编译、链接与使用它们的进程分开存储的函数。DLL还有助于共享数据与资源，多个程序可同时访问内存中单个DLL副本的内容。

动态链接库是一个能够被应用程序和其它的DLL调用的过程和函数的集合体，它里面包含的是公共代码或资源。由于DLL代码使用了内存共享技术，可以实现一些一般程序不能实现的功能，DLL还为不同语言间代码共享提供了一条方便的途径。

Unit和DLL的区别：Unit会将相同代码多次调入内存，而DLL库在内存中是独立的，多个工程并不重复调取一个DLL库到内存中，只有第一个工程把DLL库调入内存，形成一个共享内存区。

因DLL的这些特质，也会被黑客利用而为网络安全带来一些问题。

### 2.2 网络安全机制

安全机制是一种用于解决和处理某种安全问题的方法，通常分为预防、检测和恢复三种类型，网络安全中大多数安全服务和安全机制都是建立在密码技术的基础上，通过密码学方法对数据信息进行加密、解密来实现网络安全的目标要求。

一个或多个安全机制的运用与实现便构成了一种安全策略。在网络安全中，常把密码函数运用到安全策略的某个环节上，通过数据加密可以把需要保护的敏感数据的敏感性减弱，从而降低危险。

网络安全机制分为以下几种：

- 加密机制
- 控制机制
- 监督机制

##### 2.2.1加密机制

加密机制分为单向加密机制（不可逆的、不可解密）、可加密可解密机制（加密秘钥、解密秘钥）。而可加密可解密机制又分为：

- 对称加密：加密和解密使用的秘钥是相同的或可相互推导的。常见的对称加密算法包括：
  1. 数据加密标准DES（56位长度秘钥，目前已不安全）
  2. 多重DES（如3DES，安全性高）
  3. 秘钥长度可变的RC2、RC4、RC5加密算法
  4. 国际数据加密算法IDEA（128位长度秘钥，被PGP采用）
- 非对称加密：加密解密秘钥不是相同的且相互独立的，不可能或很难从一个秘钥推导出另一个。也称为公开秘钥算法，因为一个秘钥是公开的（公钥），一个私密的（秘钥）。常见的非对称加密算法包括：
  1. Diffie-Hellman（一种安全性较高的秘钥交换方法）
  2. RSA（即可用于加密也可用于数字签名的安全算法）
  3. DSA（仅用于数字签名的安全算法）

使用公钥（非对称加密）的加解密计算量较大，所以计算速度非常缓慢，当需要加解密的数据信息量较大时，采用公钥（非对称加密）和对称秘钥相结合的加密方式是比较理想的，对数据信息和加解密过程由对称秘钥完成，而公钥用于加密会话秘钥，私钥用于解密会话秘钥。

关于秘钥的管理：秘钥管理（key management）包括秘钥的产生、存储、分配、删除、归档及其应用等。管理方法是根据参与者使用该方法的环境因素确定的。一般需要考虑的要点问题包括：

1. 对于每一个明显或隐含指定的秘钥，使用基于时间的“存活期”，或使用别的准则。即秘钥可失效。
2. 按秘钥的功能恰当地区分秘钥以便可以按功能使用秘钥。
3. 非OSI得考虑，如秘钥的物理分配和秘钥存档。

对称加密算法要考虑的要点包括：

1. 使用秘钥管理协议中的机密性服务以运送秘钥。
2. 使用秘钥体系，应允许有多种不同的情况。
3. 将责任分解使得没有一个人具有重要秘钥的完全拷贝。

非对称加密算法要考虑的要点包括：

1. 使用秘钥管理协议中的机密性服务以运送私密秘钥。
2. 使用秘钥管理协议中的完整性服务、或数据源发证明的抗抵赖服务以运送公共秘钥。

**链路加密与端对端加密**

- 链路加密：最常用的加密机制之一，用于保护两个交换节点间的数据流安全，链路加密是使用硬件在物理层上又数据流进行加密实现的，这种加密的数据流每当遇到交换节点都要进行解密和加密操作。

  链路加密在交换节点是不安全的，其改进方法之一是直接在交换节点处增加加密解密功能模块，缩小明文区的范围，这种改进方法称为节点加密。

- 端对端加密：通常将传输层及以上各层的加密称为端对端加密。端对端加密可以对高层的整个协议数据单元PDU加密，也可以只加密其中的数据或部分数据，加密过程一般是由软件实现的。例如当应用层数据进行加密时，可将应用层的数据和相关头部信息一起进行加密，把加密结果作为表示层中的数据。

  多层次加密会增大网络的开销。

  对于机密信息，一般先采用隔离方式，将机密信息进行加密处理后，再转入网络层作为应用层的数据进行传输，当对方接收到这个加密数据时，先将其与网络隔离，然后进行相应解密处理。端端加密的最大特点是不需要在网络传输过程中进行加密和解密，加密和解密过程只有源端和目的端两处进行。

  端端加密相比链路加密：

  1. 安全性能高，数据在传输过程中不需要频繁地加解密操作。
  2. 安全成本低，不需要投入大量设备。
  3. 加密策略灵活多样，可由用户直接提供和选择。

  因此链路加密适合运用在小型网络里，而端对端加密多用于智能设备上。

##### 2.2.2 网络安全机制-控制机制

1. 身份认证

   身份认证机制一般包括三项内容：认证，授权和审计（认证身份、授权权限、审计操作[操作日志]）。认证也称鉴别和确认，主要用在执行有关操作之前对操作者的身份进行认证，主要通过标识和鉴别用户身份，以防止冒充合法用户进行资源访问。

   如果通信的双方只需要一方鉴别另一方的身份，则称为单向认证，如果双方都需认证身份，则称双向认证。

   在网络系统中，用于认证用户的方法一般通过：

   - 用户的密码（用户名+口令、秘钥）
   - 用户的证件（身份证）
   - 用户的属性特征（指纹、面部识别、DNA、笔迹等）

   在通信网络中，存在两种认证类型：

   - 对等实体认证

     这种认证服务当由（N）层提供时，将使（N+1）层实体确信与之打交道的对等实体正是它所需要的（N+1）层实体。换言之，在提供对等实体认证服务期间，通信的一方可以证实另一方的身份并确立信任关系。

   - 数据原发认证

     这种认证服务当由（N）层提供时，将使（N+1）层实体确信数据来源正是所要求的的对等（N+1）层实体。与对等实体认证不同，数据原发认证只对数据单元的来源提供确认，不考虑数据单元的重复或被篡改等问题。

2. 访问控制

   访问控制机制是用来实施对资源访问加以限制的策略的机制，这种策略把对资源的访问只限于那些被授权用户。

   利用一个包含被控制项和被授权用户的身份访问控制列表或访问矩阵、口令以及标识标志的手段来实现访问控制，在实现访问控制的过程中我们希望我们的认证过程是不可伪造的且使用最可靠的方式进行传输。

   为了决定和实施对一个实体的访问权，访问控制机制可以使用实体已经鉴别的身份或者实体的信息、权利。

   如果实体使用了非授权的、不正当的方式使用了资源，访问控制功能将拒绝这一企图，还可以产生一个报警信号或者记录作为安全审计跟踪的一部分来报告这个事件。

   访问控制机制可以利用的各种手段包括：

   1. 访问控制信息库，在这里保存有对等实体的访问权限。

   2. 鉴别信息，例如口令。对这一信息的占有和出示便可证明正在访问的实体已被授权。

   3. 鉴别权利。对它的占有和出示便证明有权访问由该权利所规定的实体或资源。

   4. 安全标记。进行审计，写日志。
   5. 记录试图访问的时间。
   6. 记录试图访问的路由。
   7. 访问持续期。

   访问控制机制可应用于通信联系中的一个端点，或应用于任一个中间点。涉及到原发点或任一中间点的访问控制是用来决定发送者是否被授权与指定的接收者进行通信，或是否被授权使用所要求的通信资源。

   在无连接数据传输过程中，原发点必须事先知道目的端上的对等级访问控制机制的要求，同时还需要将所要求的内容记录在安全管理信息库中。

   访问控制的几种类型：

   1. 自主访问控制：用户对自身创建的访问对象进行访问，并且对这种访问授权是没有授权的
   2. 强制访问控制：通过系统有一个安全源对创建的对象有一种统一的强制性的认证
   3. 基于对象的访问控制：数据量比较大，对几种数据类型进行授权。
   4. 基于任务的访问控制：面向任务的处理。
   5. 基于角色的访问控制：将访问的许可权分配给一定的角色，用户通过角色来获取权限。

3. 路由控制

   - 传输数据的路由警告说明（包括一整条路径的说明）可以用来保证数据只在物理上安全的路由上传输，或保证敏感数据只在具有适当保护级别的路由上传输。（选择安全性高的路由）
   - 路由能够动态或预定的选取，以便只是用物理上安全的子网络、中继站或链路。在检测到持续的操作攻击时，端系统可希望指示网络服务提供者使用不同的路由建立连接。（遇到攻击时选择其他安全性高的路由）
   - 带有某些安全标记的数据可能被安全策略禁止通过某些子网络、中继或链路。连接的发起者（或无连接数据单元的发送者）可以指定路由选择说明，由它请求回避某些特定的子网络、链路或中继。（回避安全性不高的路由）

4. 数字签名

   数字签名能够用来提供诸如抗抵赖和认证等安全服务。

   数字签名机制需要确定两个过程：

   1. 一个是对数据单元签名：使用签名者的私有信息进行签名
   2. 另一个是验证签过名的数据单元：所有规程和信息都是公开的，但是不能够由他们推断出该签名者的私有信息。这个私有信息是被用来验证数据单元的。

   签名过程涉及到使用签名者的私有信息作为私钥，或对数据单元进行加密，或产生出该数据单元的一个密码校验值。

   签名机制的本质特征：该签名只有使用签名者的私有信息才能够产生出来

   1. 签过名的数据单元除了私有信息的占有者外，其他人是不能够制造出来的。
   2. 接收者不可能造出那份签过名的数据单元。
   3. 发送者不能否认发出过那个签过名的数据单元。另外，发送者可能要求接收者事后不能否认其接收过该签名的数据。

5. 交换认证

   交换认证机制可以设置在网络的任何层上用以提供对等实体的认证。

   可用于交换认证的技术包括：

   1. 使用鉴别信息，例如口令，由发送实体提供而由接收实体认证。
   2. 密码技术
   3. 使用该实体的特征或占有物

   当使用密码技术时，这些技术可以与“握手”协议结合起来以防止重演攻击。交换认证技术的选用取决于使用它们的环境。通常情况下，与下列各项结合使用。

   1. 与时间标记与同步时钟结合使用
   2. 两方握手和三方握手结合起来
   3. 由数字签名和公证机制实现的抗抵赖服务

   在通信网络中，一般采用有数据原发证明的交换认证和有交付证明的交换认证。

   1. 有数据原发证明的交换认证

      这种交换认证为数据的接收方提供数据来源的证明。这使发送者谎称未发送过这些数据或否认它的内容的企图不能得逞。

   2. 有交付证明的交换认证

      这种交换认证为数据的发送者提供数据交付证据。这使接收者事后谎称未收到过这些数据或否认它的内容的企图不能得逞。

##### 2.2.3 监督机制

​	**一致性检查**

1. 数据完整性机制

   1. 数据完整性机制的作用：

      ​	1. 用来保护单个数据单元的完整性

      ​	2. 既保护单个数据单元的完整性，又保护一个连接的整个数据单元流序列的完整性。

   2. 带恢复的连接完整性

      这种完整性服务能够保证N层链接上的所有N层用户的数据完整性，并对整个SDU序列中的数据进行检测，判断它们是否被篡改、插入、删除或重演。

   3. 不带恢复的连接完整性

      除了不带补救和恢复功能外，这种完整性服务与带恢复的连接完整性服务基本一样。

   4. 选择字段的连接完整性

      这种完整性服务能够保证在一次连接上传送的N-SDU的N层用户数据中的选择字段的完整性，并对那些被选字段进行检测，判断它们是否被篡改、插入、删除或重演。

   5. 无连接完整性

      这种完整性服务能够保证发出请求的那个N+1层实体的完整性。它能够保证单个无连接SDU的完整性，并对整个SDU中的数据进行检测，判断它们是否被篡改和重演。

   6. 选择字段无连接完整性

      这种完整性服务能够保证单个无连接的SDU中的被选字段的完整性，并对所有字段进行检测，判断哪它们是否被篡改。

2. 消息流的篡改检测（首先保证数据的完整性，但不能保证万无一失，所以需要防止消息流的篡改检测）

   1. 讹误检测技术，与通常通信链路和网络所引入的对比特错、码组错与顺序错的检测相关联，也能用来检测消息流的篡改。但如果协议的头标和尾标不受完整性机制的保护，那么一个知情的入侵者就可能成功地旁路这些检测。

3. 公证机制

   - 公证机制建立在可信任的第三方（公证人）的概念之上，以确保在两个实体间交换的信息的某些性质不致变化。
   - 有关在两个或多个实体之间通信的数据的性质，如它的完整性、原发、时间和目的地等能够借助公证机制而得到保证。这种保证是由第三方公证人提供的。

**业务流分析**

通信业务填充机制用于制造伪通信业务和将协议数据单元填充到一个定长能够为防止通信业务分析提供有限的保护。为了使得保护成功，伪通信业务级别必须接近实际通信业务的最高预期等级。此外，协议数据单元的内容必须加密或隐藏起来，使得虚假业务不会被识别而与真实业务区分开来。

